(this["webpackJsonpimdb-front"]=this["webpackJsonpimdb-front"]||[]).push([[0],{22:function(e,t,a){e.exports=a(48)},27:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),o=a.n(s),c=(a(27),a(11)),l=a(1),i=a.n(l),u=a(8),d=a(3),h=a(4),m=a(6),p=a(5),b=a(9),v=a(7),f=(a(29),function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.movies;return r.a.createElement(n.Fragment,null,t&&0!==t.length?r.a.createElement("div",{className:"flex flex-1 content-start flex-wrap h-64"},t.map((function(t){return r.a.createElement("div",{key:t.id,className:"w-1/4 max-w-md max-h-full lg:flex p-2 h-64"},r.a.createElement("div",{className:"lg:w-48 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",style:{backgroundImage:t.poster_path?"url('https://image.tmdb.org/t/p/w200/".concat(t.poster_path):"url('https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png')"}}),r.a.createElement("div",{className:"border-r border-b border-l border-grey-light lg:border-l-0 lg:border-t lg:border-grey-light bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal"},r.a.createElement("div",{className:"mb-8"},r.a.createElement("div",{className:"text-black font-bold text-xl mb-2"},t.title.length>25?t.title.substring(0,t.title.length-5)+"...":t.title),r.a.createElement("div",{className:"text-black  text-xs mb-2"},"Release date: ",t.release_date),r.a.createElement("p",{className:"hidden text-grey-darker text-base"},t.overview)),r.a.createElement("button",{onClick:function(){return e.props.showModal(t)},className:"bg-blue-500 content-end hover:bg-blue-700 text-white font-bold py-1 px-1 rounded"},"See Details")))}))):r.a.createElement("div",{className:"flex m-20 justify-center content-center"},r.a.createElement("span",null,"Nenhum resultado foi encontrado")))}}]),t}(r.a.Component)),g=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex m-20 justify-center content-center"},this.props.movies.length>0?r.a.createElement("button",{onClick:function(){return e.props.handleGetMovies(e.props.loadCount)},className:"flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded",type:"button"},"Load More"):"")}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={param:""},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState({param:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex m-20 justify-center"},r.a.createElement("div",{className:"flex items-center border-b border-b-2 border-teal-500 py-2"},r.a.createElement("input",{value:this.state.param,onChange:this.handleChange,className:"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"Search movies","aria-label":"Full name"}),r.a.createElement("button",{onClick:function(){return e.props.handleSearchMovies(e.state.param)},className:"flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded",type:"button"},"Search")))}}]),t}(r.a.Component),w=(a(30),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onClose=function(e){a.props.onClose&&a.props.onClose(e)},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.describeMovie;return this.props.show?r.a.createElement("div",{className:"modal",id:"modal"},r.a.createElement("div",{className:"modal-content"},this.props.children,r.a.createElement("button",{className:"modal-button",onClick:this.onClose},"X"),r.a.createElement("div",{className:"max-w-sm w-full lg:max-w-full lg:flex"},r.a.createElement("div",{className:"h-20 lg:h-auto lg:w-48 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",style:{backgroundImage:e.poster_path?"url('https://image.tmdb.org/t/p/w200/".concat(e.poster_path):"url('https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png')"}}),r.a.createElement("div",{className:"border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal"},r.a.createElement("div",{className:"mb-8"},r.a.createElement("div",{className:"text-gray-900 font-bold text-xl mb-2"},e.title),r.a.createElement("p",{className:"text-gray-700 text-base"},e.overview)),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"text-sm"},r.a.createElement("p",{className:"text-gray-900 leading-none"},"Release Date"),r.a.createElement("p",{className:"text-gray-600"},e.release_date))),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"text-sm"},r.a.createElement("p",{className:"text-gray-900 leading-none"},"Genres"),r.a.createElement("p",{className:"text-gray-600"},this.props.genres.map((function(e){return" ".concat(e," ")})))))))),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"toggle-button"},"close"))):null}}]),t}(r.a.Component)),y=a(10),E=a.n(y),O=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,j=new(function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,[{key:"getMovies",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(O+"movies?page=".concat(t)).then((function(e){return e.data.results})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchMovies",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(O+"search?movie=".concat(t)).then((function(e){return e.data.results})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGenre",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(O+"genre/".concat(t)).then((function(e){return e.data.genre})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),N=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={movies:[],loadCount:0,show:!1,describeMovie:"",genres:[]},e.handleGetMovies=e.handleGetMovies.bind(Object(b.a)(e)),e.handleSearchMovies=e.handleSearchMovies.bind(Object(b.a)(e)),e.handleGetGenres=e.handleGetGenres.bind(Object(b.a)(e)),e.showModal=e.showModal.bind(Object(b.a)(e)),e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleGetMovies();case 2:return e.next=4,this.handleGetMovies();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showModal",value:function(e){var t=this;this.state.show||(this.setState({genres:[]}),e.genre_ids.forEach(function(){var e=Object(u.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleGetGenres(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.setState({show:!this.state.show,describeMovie:e})}},{key:"handleGetMovies",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loadCount:this.state.loadCount+1});case 2:return t=this.state,a=t.loadCount,n=t.movies,e.next=5,j.getMovies(a||1);case 5:r=e.sent,this.setState({movies:[].concat(Object(c.a)(n),Object(c.a)(r))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSearchMovies",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.searchMovies(t);case 2:a=e.sent,Array.isArray(a)&&this.setState({movies:a||[]});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleGetGenres",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getGenre(t);case 2:a=e.sent,this.setState({genres:[a].concat(Object(c.a)(this.state.genres))});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(w,{onClose:this.showModal,show:this.state.show,describeMovie:this.state.describeMovie,genres:this.state.genres}),r.a.createElement("div",{className:"min-h-screen flex flex-col font-sans"},r.a.createElement(x,{handleSearchMovies:this.handleSearchMovies}),r.a.createElement(f,{handleGetMovies:this.handleGetMovies,movies:this.state.movies,showModal:this.showModal}),r.a.createElement(g,{movies:this.state.movies,handleGetMovies:this.handleGetMovies,loadCount:this.state.loadCount})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.fc0180fe.chunk.js.map